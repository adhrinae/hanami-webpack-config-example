<h1 class="title">All Projects</h1>

<% projects.each do |project| %>
  <div class="project">
    <h2 class="subtitle"><%= project.name %></h2>
  </div>
<% end %>

<hr/>

<%= form_for :projects, routes.projects_path, 'v-on:submit.prevent' => 'onSubmit', 'v-on:keydown' => "form.errors.clear($event.target.name)" do

  div class: 'control' do
    label 'Project name', for: :name, class: 'label'
    text_field :name, class: 'input', 'v-model' => 'form.name'
    span class: 'help is-danger', 'v-if' => "form.errors.has('name')", 'v-text' => "form.errors.get('name')"
  end

  div class: 'control' do
    label 'Project Description', for: :description, class: 'label'
    text_field :description, class: 'input', 'v-model' => 'form.description'
    span class: 'help is-danger', 'v-if' => "form.errors.has('description')", 'v-text' => "form.errors.get('description')"
  end

  div class: 'control' do
    submit 'Create', class: 'button is-primary', ':disabled' => 'form.errors.any()'
  end

end %>